初学编程时，最让人痛苦的一件事恐怕就是调试 Bug 了。想要高效把问题排查出来，实在不容易，往往是编码五分钟，调试一小时。可那些软件开发专家们，却能很高效的定位问题，甚至可以查出一些普通人完全没有头绪、无法定位问题的场景。
是什么让他们定位问题如此高效呢？
我们其实可以从两个维度来分析这个问题：
一方面，专家们有着更为丰富的 Bug 排查经历，他们见到过更多的 Bug，因而也就容易遇见与之前经历中相似的问题，进而帮助他们解决问题。
另一方面，随着经验的加深，专家们也会总结一些定位 Bug 的固定方法。这些方法就像数学的解题公式一样，能加快我们定位、排查问题的效率。
经验需要日积月累的积累，但这种公式却是每个人都可以学习的。因而，我也将我总结的一些方法分享给大家，希望对大家有所帮助。

在真正解决问题前，我们首先要对 Bug 的类型有所认知。通常来说，有两种 Bug 最为常见，语法错误以及逻辑错误。
语法错误类 Bug 往往是相对容易排查的，因为它可以被各种工具检测出来。当我们遇见相关 Bug 时，只需要查看编译器或者 IDE 中的相关报错信息即可定位问题所在。而想要解决这些问题，往往也只需要简单的复制报错信息并咨询 AI 或搜索引擎即可。通过这样的方式，基本就能找到解决方案。

而更复杂的一类问题是逻辑错误，它确实不容易排查。因为从语法的角度来说，程序并没有出现问题，只是结果不符合我们开发者的预期而已。
对于这类问题，首先要了解一个经验结论：如果 Bug 无法在 10 分钟之内被解决，那它往往也没法儿在 30 分钟甚至一个小时内解决。
换句话说，如果开始感觉到被 Bug 难住的时候，我们首先要做的不是急于查找问题所在，而是先规划好排查问题的流程。这些流程看似有些繁琐，但它们却能保证能我们在排查问题时思路一直能保持清晰，进而控制解决问题所花时间的上限，避免越调试越迷糊的现象出现。

我们知道，程序是一个复杂的树形结构，整个程序可以被拆解为若干个功能模块，而每个模块之中都有无数函数，在每个函数之中又有若干语句和表达式。排查 Bug 的核心就是找到那些影响功能的语句、表达式或者函数，并将其重构重写。
有两个通用的方法可供我们实现上述目标：二分定位以及构建最小可复现场景。

二分思想的原理就是 用一种复杂度相对较低的方法快速寻找到出现问题的相关逻辑。
在遇到问题时 但如果我们只放大一个非常大的范围内去排查问题 逐步查看语句流程的成本显然非常高的 我们也许可以对项目出现问题的位置有个大概的定位估计 以减少我们排查的工作 但这种估计不应该收敛的太过于 因为如果问题出现在了我们估计的范围以外的地方 那我们排查多久都找不到问题 因而，我们就要采用类似二分搜索的思想来排查定位问题
拿一个案例来演示 在幂函数中 我们将依次调用F1到F七七个函数 我们通过调用 发现它的结果不符合预期 那怎么排查出是哪些函数出了问题呢 注意 如果是一个真实的项目 函数的调用逻辑和返回结果会比我们的事例要复杂得多 也会有更多的变量出现 所以很难通过逐一判断返回值的结果来定位问题 那我们就需要通过二分的思想来确认 首先我们发现这里边有7个函数 那我们先确认他在调用到F4的时候 当前的中间值是否符合预期 我们在此加一个断点
运行后发现结果是符合预期的，那就说明我们的F1到F4函数都是正常的 那我们只需要确认567这三个函数哪里有问题 我们在中间的F6打一个断点 确认在运行F6之前也是没有问题 既然只剩两个函数了，我们就可以逐步地调试查看问题 那我们观察一下发现 F6函数调用的返回结果是符合预期的 那就说明函数是有问题的 我们就可以查看它的定义来进一步调试问题 当然 这里的函数都是非常简单的逻辑 只是调用后立马返回一个常量 但如果函数复杂的话，我们还是可以在这个函数内部继续执行类似二分的逻辑排查问题
****
在通过2分的搜索对问题的范围 有了初步的认识之后 我们下一步要做的就是构建最小可复现的case 在之前使用二分搜索的时候 我们每调试一次 都要运行一次项目 对于那些庞大的工程来说 可能启动一次应用都需要几十秒的时间 而且触发功能还需要额外的一些操作 比如后端调用接口 或者前端点击一些按钮触发事件 在我们完成了对问题的收敛之后 我们应该尝试构建一些最小可复现的case 尽可能低成本地完成运行调试的步骤，执行程序的步骤 比如单独启动一个脚本，调用相关的函数来检查结果是否正确
但注意，这步操作一定要在二分搜索之后我实现 还是我们上面说的问题 在最早 我们其实不知道问题具体的范围 那过早的构建所谓最小可复现case并不是一个可行的选择 你都不知道到底哪个函数有问题，怎么去构建相关的函数，以及调用相关函数 万一你构建的case并不能反映问题，那我们之后再付出的调试努力不都白费了。所以这一步只能在二分搜索完成，初步收敛之后才进行。

目前，我们完成了问题的定位，但修复的过程也会出现种种问题。很有可能出现过拟合的情况，也就是针对自己调试时使用的那个用例完成了修复，但遇见了其他场景又会出现 Bug ，进而导致返工的现象。为了避免这种情况的出现，我们同时测试提供多个可能的用例。
这一流程如果用由手工执行显然会非常麻烦，最好是用一些自动化的工具来简化这个流程。
最通用的手段就是使用各类测试框架，由测试框架帮我们完成批量用例的执行与检测。
当然，很多简单项目并没有引入测试框架，而为了调试一个 Bug 大费周章成本会稍微有点高。那更简单的办法则是手写一个测试函数，起到类似测试框架的效果。比如类似这个文件里面的 test 函数。

以上就是我对调试 Bug 的经验总结，希望对大家有所帮助。