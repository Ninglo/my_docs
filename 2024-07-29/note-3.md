初学编程时，最让人痛苦的一件事恐怕就是调试 Bug 了。想要高效把问题排查出来实在不容易，往往是编码五分钟，调试一小时。可看那些软件开发专家们，却总是能很高效的定位问题，还可以查出一些普通人完全没有头绪、无法定位问题的场景。
他们是怎么做到的呢？
我们可以从两个维度来分析这个问题：
一方面，专家们有着更为丰富的 Bug 排查经历，他们见到过更多的 Bug，因而也就容易遇见与之前经历中相似的问题，进而帮助他们解决问题。
另一方面，随着经验的加深，专家们也会总结一些定位 Bug 的固定方法。这些方法就像数学的解题公式一样，能加快我们定位、排查问题的效率。
经验需要日积月累的积累，但这种公式却是每个人都可以学习的。因而，我将我总结的一些排查方法分享给大家，希望对大家有所帮助。

在真正解决问题前，我们首先要对 Bug 的类型有所认知。通常来说，有两类 Bug 最为常见: 语法错误以及逻辑错误。
语法错误类 Bug 往往是相对容易排查的，因为它可以被各种工具检测出来。当我们遇见相关 Bug 时，只需要查看编译器或者 IDE 中的相关报错信息即可定位问题所在。而想要解决这些问题，往往也只需要简单的复制报错信息并咨询 AI 或搜索引擎即可。通过这样的方式，基本就能找到解决方案。

而更复杂的一类问题是逻辑错误，它确实不容易排查。因为从语法的角度来说，程序并没有出现问题，只是结果不符合我们开发者的预期而已。
对于这类问题，首先要了解一个经验结论：如果 Bug 无法在 10 分钟之内被解决，那它往往也没法儿在 30 分钟甚至一个小时内解决。
换句话说，如果开始感觉到被 Bug 难住的时候，我们首先要做的不是急于查找问题所在，而是先规划好排查问题的流程。这些流程看似有些繁琐，但它们却能保证能我们在排查问题时思路一直能保持清晰，进而控制解决问题所花时间的上限，避免越调试越迷糊的现象出现。

我们知道，程序是一个复杂的树形结构，整个程序可以被拆解为若干个功能模块，而每个模块之中都有无数函数，在每个函数之中又有若干语句和表达式。排查 Bug 的核心就是找到那些影响功能的语句、表达式或者函数，并将其重构重写。
有两个通用的方法可供我们实现上述目标：二分定位以及构建最小可复现场景。

二分定位实际上就是算法中的二分查找的一种真实场景应用。我们需要从出现问题代码的中间位置添加断点或日志，以确认断点前方是否存在 Bug，以此类推，直到定位出现问题的函数。
这种排查的习惯，是我们一定要在刚开始编程时就培养起来的。毕竟如果之后面对一些大型项目，几万行甚至几十万行的代码，从头到尾每一行都打断点确认，显然是一个不可能完成的任务。

<!-- example -->

在通过二分法让我们对 Bug 的成因有初步的定位之后，下一步要做的是构建 “最小可复现用例”。
之前使用二分法排查问题时，每调试一次都要运行一次项目。对于那些庞大的工程来说，这一步操作的开销也不低，可能启动一次应用都需要几十秒的时间。为方便完成对问题的修复以及后续的调试，我们可以单独启动一个脚本，调用相关的函数，来检查结果是否正确。

<!-- example -->

在修复完成后，为避免 Bug 的再次出现，我们应测试多个可能的用例，就如同我们解出数学方程之后，需要带入多个自变量验算一样。每次都通过手工修改函数参数的方式测试会非常麻烦，我们最好用一些自动化的工具来简化这个流程。
最通用的手段就是使用各类测试框架，由测试框架帮我们完成批量用例的执行与检测。
当然，很多简单项目并没有引入测试框架，而为了调试一个 Bug 大费周章成本会稍微有点高。那更简单的办法则是手写一个测试函数，起到类似测试框架的效果。比如类似这个文件里面的 test 函数。

以上就是我对调试 Bug 的经验总结，希望对大家有所帮助。
