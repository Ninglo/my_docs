求科普，IDE为什么有这么大的软件开发量。特别是去掉各个语言的工具链之后
---
这个问题确实可以讲讲，但我比较好奇为什么你会觉得 IDE 应该比较简单呢？你认为 IDE 和哪些常见应用复杂度比较类似。
理解这个应该有助于我把 IDE 的复杂度讲明白。我在这个领域也做了不短的时间，所以跟外界的视角可能完全不一样。
---
IDE在我看来是不是可以跟浏览器和office相比，他比后两者看起来功能简单特别多
---
这两个应用复杂度其实完全不一样。
现代浏览器实际上就是完全另起炉灶的一整套操作系统，代码量和 OS 也差不多，大概是数千万行的级别。
像 IDE office 这样的巨型应用，一般是在数百万行代码的级别。依稀记得 IDEA 是 300w，libreOffice 是 600w。vscode 少一些，大概在 150w 左右。
---
其他应用不太了解，拿我熟悉的 VSCode 来说。主要影响它复杂度有两个部分：
1. 编辑器 (hard 的部分)
Ediotr 确实是一个看起来很简单, 感觉无非是个花花绿绿的记事本, 但事实上很复杂的结构. 这里的问题在于, 做一个记事本本身其实就不简单: 通常觉得开发记事本工具应用很容易, 是因为我们利用了操作系统提供的抽象, 主体能力还是操作系统完成的. 相当于 OS 帮我们画了记事本, 我们开发应用只是调对应接口而已. 如果只把这些掉包代码的行数视为项目的复杂度, 那机器学习不过也就是一行 `import pytorch` 而已.
但问题是, 除了基础的记事本能力, 代码编辑器还是有很多额外功能, 操作系统提供的接口无法实现这些能力. 因而想做一个 Ediotr 就只能把操作系统的接口抛弃掉自己重新写.
一种方案就是一个像素点一个像素点的绘制应用, 类似 Google Docs 和不用引擎开发的游戏, 这和手写一个操作系统的 GUI 部分也没啥区别了.
另外一种就是像 VSCode 一样, 编辑器当成一个页面来做, 借用浏览器的 API. 但想要保障 Editor 性能的极致优化(毕竟编辑器体验是 IDE 的最核心指标了), 那就得理解浏览器底层的各种操作, 明白怎么样写应用才能性能最佳. 不把底层浏览器代码的相关内容研究一遍也没法做到(VSCode 团队成员自己都承认, 只有几个核心开发者能看明白 VSCode Editor 的设计理念).

2. 各类琐碎细节的补全 (complex 的部分)
这一点也是看着不声不响, 但却非常重要的能力. 还是之前说的, VSCode 解了接近 20w issues, 这之中不知道要实现几千几万个真正的功能. 也许每一个功能看起来都不复杂, 但想把它们结合到一起, 即保证交互逻辑的一致性, 又控制好对使用者暴露的复杂度(新人可以快速上手, 而专家也能用上这些额外的高级操作), 难度就是指数级倍增了.
---
确实是这样. 但我感觉抛掉语言能力来谈 IDE 的复杂度本身也是不太公允, Integrated development environment 中的 development environment 实际就是语言能力. 没有语言能力的 IDE 就只是一个文本编辑器了, 那复杂度确实低了不少. VSCode 所以相对看起来轻量, 是因为它的架构设计的合理, 把那些语言能力的部分项目中拆分出来了, 按需再以插件的机制来加载. 但既然把它当一个 IDE 看待, 就不能忽略那些语言的能力的复杂度.
---
对，所以 IDE 只是一个复杂应用，没有像浏览器一样变成一个复杂度堪比操作系统的存在。复杂度还是差了一个量级的。

[[tag/VSCode]] [[tag/Software]] [[tag/Chrome]] [[tag/Software Complexity]]